"use strict";(self.webpackChunklabelling_system=self.webpackChunklabelling_system||[]).push([[5334],{2039:function(e,t,n){n(2791);var r=n(7246),a=n(184);t.Z=function(e){var t=e.count,n=e.setPage,o=e.page;return(0,a.jsx)(r.Z,{className:"margin-vertical",count:t,shape:"rounded",color:"primary",onChange:function(e,t){n(t)},page:o})}},349:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(885),a=n(2791),o=n(1027),c=n(3786),i=n(5403),u=n(2672),s=n(184),l=function(e){var t=e.list,n=e.setFilterBy,i=a.useState(null),l=(0,r.Z)(i,2),d=l[0],f=l[1],p=Boolean(d),h=function(e){f(null),n(e)};return(0,s.jsxs)("div",{children:[(0,s.jsx)(u.Z,{"aria-controls":p?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":p?"true":void 0,id:"filter-icon",onClick:function(e){f(e.currentTarget)},sx:{color:"#fff",fontSize:"large",mt:1}}),(0,s.jsx)(o.Z,{id:"basic-menu",anchorEl:d,open:p,onClose:h,MenuListProps:{"aria-labelledby":"filter-icon"},children:t.map((function(e,t){return(0,s.jsx)(c.Z,{onClick:function(){return h(t)},children:e},t)}))})]})},d=function(e){var t=e.handler,n=e.searchBy,r=e.setFilterBy;return(0,s.jsxs)("div",{className:"barCont",children:[null!==n&&void 0!==n&&n.length?(0,s.jsx)(l,{list:n,setFilterBy:r}):(0,s.jsx)(i.Z,{sx:{color:"#eee",fontSize:20}}),(0,s.jsx)("input",{type:"search",placeholder:"search...",onChange:function(e){return t(e.target.value)}})]})}},3711:function(e,t,n){n.d(t,{W:function(){return o}});var r=n(2062),a=n.n(r),o=function(e,t,n,r,o){return new Promise((function(c){a()({title:"Are you sure?",text:"Once deleted, you will not be able to recover data!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(i){i?(a()("Poof! Your this data has been deleted!",{icon:"success"}),e(t,n,r,o),c(!0)):c(!1)}))}))}},8:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(1413),a=(n(2791),n(7630)),o=n(184),c=(0,a.ZP)("div")((function(e){var t=e.theme;return(0,r.Z)((0,r.Z)({},t.typography.button),{},{backgroundColor:t.palette.background.paper,fontSize:"25px",fontWeight:"bold"})}));function i(e){var t=e.text;return(0,o.jsx)(c,{children:t})}},5334:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var r=n(4165),a=n(5861),o=n(885),c=n(2791),i=n(6871),u=n(9658),s=n(3239),l=n(4554),d=n(6151),f=n(5641),p=n(6176),h=n(8),v=n(2419),x=n(5560),Z=n(4942),g=n(7630),m=n(9836),y=n(3382),j=n(8745),b=n(618),w=n(9281),k=n(6890),C=n(5855),S=n(703),z=n(3746),P=n(1286),T=n(383),E=n(3711),_=n(184),B=(0,g.ZP)(j.Z)((function(e){var t,n=e.theme;return t={},(0,Z.Z)(t,"&.".concat(b.Z.head),{backgroundColor:n.palette.primary.main,color:n.palette.common.white}),(0,Z.Z)(t,"&.".concat(b.Z.body),{fontSize:14}),t})),A=(0,g.ZP)(C.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));function L(e){var t=e.data,n=e.token,r=(e.category,e.toggleLoader),a=c.useState(""),s=(0,o.Z)(a,2),l=s[0],d=s[1],p=(0,i.s0)();return(0,_.jsxs)(_.Fragment,{children:[""!==l&&(0,_.jsx)(u.Z,{severity:"error",children:l}),(0,_.jsx)(w.Z,{sx:{width:"100%",maxHeight:"500px"},component:S.Z,children:(0,_.jsxs)(m.Z,{"aria-label":"customized table",children:[(0,_.jsx)(k.Z,{children:(0,_.jsxs)(C.Z,{children:[(0,_.jsx)(B,{children:"Sub-Category"}),(0,_.jsx)(B,{align:"center",children:"Category"}),(0,_.jsx)(B,{align:"center",children:"Status"}),(0,_.jsx)(B,{align:"center",children:"View"}),(0,_.jsx)(B,{align:"center",children:"Edit"}),(0,_.jsx)(B,{align:"center",children:"Delete"})]})}),(0,_.jsx)(y.Z,{children:t.map((function(e){return(0,_.jsxs)(A,{children:[(0,_.jsx)(B,{component:"th",scope:"row",children:e.sub_category}),(0,_.jsx)(B,{align:"center",children:e.category_name}),(0,_.jsx)(B,{align:"center",children:e.sub_category_active_status?"Active":"In Active"}),(0,_.jsx)(B,{align:"center",onClick:function(){p("view-subcategory",{state:{detail:e}})},children:(0,_.jsx)(z.Z,{sx:{cursor:"pointer"}})}),(0,_.jsx)(B,{align:"center",onClick:function(){return t=null===e||void 0===e?void 0:e._id,n=e,void(t&&p("edit-subcategory",{state:{detail:n,id:t}}));var t,n},children:(0,_.jsx)(P.Z,{sx:{cursor:"pointer"}})}),(0,_.jsx)(B,{align:"center",onClick:function(){return function(e){try{var t="/api/delete-subcategory/".concat(e),a=f.fA;(0,E.W)(a,t,n).then((function(e){return r(e)}))}catch(l){d(null===l||void 0===l?void 0:l.response.data.error),setTimeout((function(){d("")}),5e3)}}(null===e||void 0===e?void 0:e._id)},children:(0,_.jsx)(T.Z,{sx:{cursor:"pointer"}})})]},e._id)}))})]})})]})}var M=n(2491),F=n(349),N=n(450),V=n(3585),H=n(2039),D=function(){var e=(0,i.s0)(),t=(0,c.useState)([]),n=(0,o.Z)(t,2),Z=n[0],g=n[1],m=(0,c.useState)(!1),y=(0,o.Z)(m,2),j=y[0],b=y[1],w=(0,c.useState)([]),k=(0,o.Z)(w,2),C=k[0],S=k[1],z=(0,c.useState)(),P=(0,o.Z)(z,2),T=P[0],E=P[1],B=(0,c.useState)(""),A=(0,o.Z)(B,2),D=A[0],G=A[1],I=c.useState(!0),W=(0,o.Z)(I,2),q=W[0],O=W[1],U=(0,c.useState)(""),X=(0,o.Z)(U,2),R=X[0],Y=X[1],J=(0,c.useState)(1),K=(0,o.Z)(J,2),Q=K[0],$=K[1],ee=(0,c.useState)(1),te=(0,o.Z)(ee,2),ne=te[0],re=te[1];(0,c.useEffect)((function(){(0,f.jn)(p.token,"/api/category").then((function(e){var t;if(null===(t=e.data)||void 0===t||!t.success)return O(!1);S(e.data.data);var n=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t="/api/fetch-subcategory?sub_category=".concat(R,"&page=").concat(Q,"&limit=50"),(0,f.qX)(p.token,t).then((function(e){var t=null===e||void 0===e?void 0:e.data;null!==t&&void 0!==t&&t.success?(E(!1),g(null===t||void 0===t?void 0:t.data),re(null===t||void 0===t?void 0:t.pages)):(E("Collection is Empty"),g([]),re(1))})).catch((function(e){G(e),(0,p.removeStatus)(G)}))}catch(D){G(null===D||void 0===D?void 0:D.response.data.error)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n()})).catch((function(e){G(e),(0,p.removeStatus)(G)}))}),[j,R,Q]);if(j)return setTimeout((function(){b(!1)}),2e3),(0,_.jsx)(M.Z,{loading:j});if(!q)return(0,_.jsx)(u.Z,{severity:"warning",children:"Make sure you have categories."});var ae=Boolean(void 0!==T&&"string"===typeof T);return(0,_.jsxs)("div",{style:{width:"80%"},children:[(0,_.jsxs)("div",{className:"direction-corner",children:[(0,_.jsxs)("div",{className:"direction",children:[(0,_.jsx)(h.Z,{text:"Sub Category"}),!ae&&!Z.length&&(0,_.jsx)(s.Z,{size:25,sx:{ml:1}})]}),(0,_.jsxs)(l.Z,{className:"direction",children:[(0,_.jsx)(F.Z,{handler:function(e){Y(e),$(1)}}),(0,_.jsx)(d.Z,{variant:"contained",startIcon:(0,_.jsx)(x.Z,{}),onClick:function(){try{var e="/api/generate-csv-subcat?sub_category=".concat(R,"&page=").concat(Q);(0,N.E)(p.token,e).then((function(e){var t=e.data;if(!t.success)return!1;window.open(V.L+(null===t||void 0===t?void 0:t.downloadURL),"_parent")})).catch((function(e){G(e),(0,p.removeStatus)(G)}))}catch(D){G(D.message)}},sx:{mr:"5px"},children:"CSV"}),(0,_.jsx)(d.Z,{variant:"contained",startIcon:(0,_.jsx)(v.Z,{}),onClick:function(){return e("create-subcategory")},children:"Sub Category"})]})]}),""!==D&&(0,_.jsx)(u.Z,{severity:"error",children:D}),ae&&(0,_.jsx)(u.Z,{severity:"warning",children:T}),!ae&&0!==Z.length&&(0,_.jsx)(L,{data:Z,token:p.token,category:C,toggleLoader:function(e){return b(e)}}),(0,_.jsx)(H.Z,{count:ne,setPage:$})]})}},5641:function(e,t,n){n.d(t,{Sv:function(){return s},fA:function(){return i},jn:function(){return c},qX:function(){return u}});var r=n(4165),a=n(5861),o=n(197),c=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(a,c){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.default)({method:"GET",url:n,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:i=e.sent,a(i),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(null===e.t0||void 0===e.t0?void 0:e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,o.default)({method:"DELETE",url:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(a,c){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.default)({method:"GET",url:n,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:i=e.sent,a(i),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(null===e.t0||void 0===e.t0?void 0:e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,c){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(a,i){var u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.default)({method:"PUT",url:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},data:c});case 3:(u=e.sent)?a(u):i(u),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},450:function(e,t,n){n.d(t,{E:function(){return c},y:function(){return i}});var r=n(4165),a=n(5861),o=n(197),c=function(e,t){return new Promise(function(){var n=(0,a.Z)((0,r.Z)().mark((function n(a,c){var i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,o.default)({method:"GET",url:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});case 3:i=n.sent,a(i),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),c(null===n.t0||void 0===n.t0?void 0:n.t0.response.data.error);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}())},i=function(e,t,n){return new Promise(function(){var c=(0,a.Z)((0,r.Z)().mark((function a(c,i){var u;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,o.default)({method:"POST",url:t,data:n,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});case 3:u=r.sent,c(u),r.next=12;break;case 7:if(r.prev=7,r.t0=r.catch(0),!r.t0.message){r.next=11;break}return r.abrupt("return",i(r.t0.message));case 11:i(null===r.t0||void 0===r.t0?void 0:r.t0.response.data.error);case 12:case"end":return r.stop()}}),a,null,[[0,7]])})));return function(e,t){return c.apply(this,arguments)}}())}},3585:function(e,t,n){n.d(t,{L:function(){return r}});var r="http://35.163.101.249/"},1286:function(e,t,n){var r=n(5318);t.Z=void 0;var a=r(n(5649)),o=n(184),c=(0,a.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=c},5560:function(e,t,n){var r=n(5318);t.Z=void 0;var a=r(n(5649)),o=n(184),c=(0,a.default)((0,o.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),"FileDownload");t.Z=c},3746:function(e,t,n){var r=n(5318);t.Z=void 0;var a=r(n(5649)),o=n(184),c=(0,a.default)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.Z=c}}]);
//# sourceMappingURL=5334.1fde9580.chunk.js.map