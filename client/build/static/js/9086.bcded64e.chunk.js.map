{"version":3,"file":"static/js/9086.bcded64e.chunk.js","mappings":"6NA6EA,UAvEoB,WAChB,OAA0BA,EAAAA,EAAAA,UAAS,IAAG,eAA/BC,EAAK,KAAEC,EAAQ,KACtB,GAA8BF,EAAAA,EAAAA,UAAS,IAAG,eAAnCG,EAAO,KAAEC,EAAU,KAC1B,GAAgCJ,EAAAA,EAAAA,UAAS,IAAG,eAArCK,EAAQ,KAAEC,EAAW,KAC5B,GAA0BN,EAAAA,EAAAA,UAAS,IAAG,eAA/BO,EAAK,KAAEC,EAAQ,MAEtBC,EAAAA,EAAAA,YAAU,SAACC,GACHC,aAAaC,QAAQ,eACrBF,EAAEG,iBACFC,SAASC,SAAW,YAE5B,GAAG,IAEH,IAMMC,EAAY,yCAAG,WAAON,GAAC,kFAMxB,OALDA,EAAEG,iBACII,EAAS,CACXC,QAAS,CACL,eAAgB,qBAEtB,EAAD,gBAG0BC,EAAAA,QAAAA,KAAS,iBAAkB,CAAElB,MAAAA,EAAOI,SAAAA,GAAYY,GAAQ,KAAD,WAAtEG,EAAI,EAAJA,KAERT,aAAaU,QAAQ,YAAiB,OAAJD,QAAI,IAAJA,OAAI,EAAJA,EAAME,OACpCF,EAAKG,WAELZ,aAAaU,QAAQ,OAAQD,EAAKG,SAASC,MApBpCA,EAqBsBJ,EAAKG,SAASC,KAArCC,EApBO,IAAjBC,OAAOF,GAAoB,QACL,IAAjBE,OAAOF,GAAoB,UACV,IAAjBE,OAAOF,GAAoB,oBAA/B,EAmBGpB,EAAW,GAAD,OAAIqB,EAAS,8BACvBjB,EAAS,IACTM,SAASC,SAAW,aACvB,kDAGDP,EAAQ,OAAC,EAAD,yBAAC,KAAOmB,SAASP,KAAKb,OAC9BH,EAAW,IACXwB,YAAW,WACPpB,EAAS,GACb,GAAG,KAAM,kCAhCE,IAAAgB,CAgCF,wBAEhB,gBA5BiB,sCA8BlB,OACI,2BACI,iBAAKK,UAAU,iBAAgB,WAC3B,oBAASA,UAAU,iBACnB,oBAASA,UAAU,sBAAqB,UACpC,kBAAMC,SAAUd,EAAa,UACd,KAAVT,IAAgB,SAAC,IAAK,CAACwB,SAAS,QAAO,SAAExB,IAC7B,KAAZJ,IAAkB,SAAC,IAAK,CAAC4B,SAAS,UAAS,SAAE5B,KAC9C,wBAAI,sBACJ,2BAAO,WACP,kBAAO6B,KAAM,QAASC,KAAM,QAASC,MAAOjC,EAAOkC,SAAU,SAAAzB,GAAC,OAAIR,EAASQ,EAAE0B,OAAOF,MAAM,EAAEG,UAAQ,EAACC,YAAY,mBACjH,2BAAO,cACP,kBAAON,KAAM,WAAYE,MAAO7B,EAAU8B,SAAU,SAAAzB,GAAC,OAAIJ,EAAYI,EAAE0B,OAAOF,MAAM,EAAEG,UAAQ,EAACC,YAAY,cAC3G,mBAAQN,KAAK,SAAQ,SAAC,WACtB,SAAC,KAAO,CAACO,GAAG,2BAA0B,SAAC,6BAM/D,C","sources":["pages/auth/LoginScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport Alert from '@mui/material/Alert';\nimport API from '../../API';\nimport './auth.css';\n\nconst LoginScreen = () => {\n    const [email, setEmail] = useState('');\n    const [success, setSuccess] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n\n    useEffect((e) => {\n        if (localStorage.getItem('authToken')) {\n            e.preventDefault();\n            document.location = \"/ls-admin\";\n        }\n    }, []);\n\n    const successMsg = role => {\n        if (Number(role) === 1) return \"Super\";\n        else if (Number(role) === 2) return \"Company\";\n        else if (Number(role) === 3) return \"Manufacturer\";\n    };\n\n    const loginHandler = async (e) => {\n        e.preventDefault();\n        const config = {\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        };\n        try {\n            // Insert User To DB\n            const { data } = await API.post(\"api/auth/login\", { email, password }, config);\n            // Persist Auth Token\n            localStorage.setItem(\"authToken\", data?.token);\n            if (data.userInfo) {\n                // Persist Auth User Role\n                localStorage.setItem(\"role\", data.userInfo.role);\n                const adminType = successMsg(data.userInfo.role);\n                setSuccess(`${adminType} admin login successfull!`);\n                setError(\"\");\n                document.location = \"/ls-admin\";\n            }\n\n        } catch (error) {\n            setError(error?.response.data.error);\n            setSuccess(\"\");\n            setTimeout(() => {\n                setError(\"\");\n            }, 5000);\n        }\n    };\n\n    return (\n        <main>\n            <div className='auth-container'>\n                <section className='auth-bg-img'></section>\n                <section className='auth-form-container'>\n                    <form onSubmit={loginHandler}>\n                        {error !== '' && <Alert severity=\"error\">{error}</Alert>}\n                        {success !== '' && <Alert severity=\"success\">{success}</Alert>}\n                        <h1>Labelling System</h1>\n                        <label>Email</label>\n                        <input type={'email'} name={'email'} value={email} onChange={e => setEmail(e.target.value)} required placeholder='Email Address' />\n                        <label>Password</label>\n                        <input type={'password'} value={password} onChange={e => setPassword(e.target.value)} required placeholder='Password' />\n                        <button type='submit'>Login</button>\n                        <NavLink to=\"/ls-admin/forgetpassword\">Forget Password</NavLink>\n                    </form>\n                </section>\n            </div>\n        </main>\n    );\n};\n\nexport default LoginScreen;"],"names":["useState","email","setEmail","success","setSuccess","password","setPassword","error","setError","useEffect","e","localStorage","getItem","preventDefault","document","location","loginHandler","config","headers","API","data","setItem","token","userInfo","role","adminType","Number","response","setTimeout","className","onSubmit","severity","type","name","value","onChange","target","required","placeholder","to"],"sourceRoot":""}