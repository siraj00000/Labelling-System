"use strict";(self.webpackChunklabelling_system=self.webpackChunklabelling_system||[]).push([[4239],{8:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(1413),a=(n(2791),n(7630)),o=n(184),u=(0,a.ZP)("div")((function(e){var t=e.theme;return(0,r.Z)((0,r.Z)({},t.typography.button),{},{backgroundColor:t.palette.background.paper,fontSize:"25px",fontWeight:"bold"})}));function c(e){var t=e.text;return(0,o.jsx)(u,{children:t})}},4239:function(e,t,n){n.r(t);var r=n(4165),a=n(5861),o=n(885),u=n(2791),c=n(9658),i=n(8),s=n(3420),p=(n(1977),n(6363),n(6176)),l=n(6871),f=n(2062),d=n.n(f),v=n(2491),h=n(184);t.default=function(){var e=(0,l.s0)(),t=(0,u.useState)(!1),n=(0,o.Z)(t,2),f=n[0],m=n[1],Z=(0,u.useState)([]),y=(0,o.Z)(Z,2),x=y[0],w=y[1],b=(0,u.useState)(""),j=(0,o.Z)(b,2),k=j[0],g=j[1],P=(0,u.useState)(""),O=(0,o.Z)(P,2),S=O[0],C=O[1],_=(0,u.useState)(""),T=(0,o.Z)(_,2),A=T[0],z=T[1],B=(0,u.useState)(""),D=(0,o.Z)(B,2),N=D[0],E=D[1];u.useEffect((function(){try{(0,s.Mn)(p.token,"/api/fetch-company-admin").then((function(e){var t;w(null===(t=e.data)||void 0===t?void 0:t.data)})).catch((function(e){E(null===e||void 0===e?void 0:e.response.data.error),(0,p.removeStatus)(E)}))}catch(N){E(N),(0,p.removeStatus)(E)}}),[]);var q=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!(A.length<5)){t.next=5;break}return E("Password must contain at least 6 digits"),(0,p.removeStatus)(E),t.abrupt("return",!1);case 5:m(!0),a={email:S,password:A,role:2,company_email:k},(0,s.eD)(p.token,a).then((function(t){var n;d()({title:"Success!",text:null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.msg,icon:"success",button:"Okay!"}).then((function(){e("/ls-admin/admins",{replace:!0}),m(!1)}))})).catch((function(e){E(e),(0,p.removeStatus)(E),m(!1)}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return f?(0,h.jsx)(v.Z,{loading:f}):(0,h.jsxs)("form",{className:"form-sec",onSubmit:q,children:[(0,h.jsx)(i.Z,{text:"Register Company Admin"}),""!==N&&(0,h.jsx)(c.Z,{severity:"error",children:N}),(0,h.jsxs)("div",{className:"company_admin_form",children:[(0,h.jsxs)("div",{className:"company_admin_form_field",children:[(0,h.jsx)("label",{children:"email"}),(0,h.jsx)("input",{type:"email",placeholder:"mark@example",value:S,onChange:function(e){return C(e.target.value)},required:!0})]}),(0,h.jsxs)("div",{className:"company_admin_form_field",children:[(0,h.jsx)("label",{children:"password"}),(0,h.jsx)("input",{type:"password",placeholder:"mark123",value:A,onChange:function(e){return z(e.target.value)},required:!0})]}),(0,h.jsxs)("div",{className:"company_admin_form_field",children:[(0,h.jsx)("label",{children:"Company"}),(0,h.jsxs)("select",{onChange:function(e){return g(e.target.value)},required:!0,children:[(0,h.jsx)("option",{value:"",children:"select company"}),null===x||void 0===x?void 0:x.map((function(e,t){return(0,h.jsx)("option",{value:null===e||void 0===e?void 0:e.company_email,className:"company_list",children:null===e||void 0===e?void 0:e.company_name},t)}))]})]})]}),(0,h.jsx)("button",{children:"Register Company Admin"})]})}},3420:function(e,t,n){n.d(t,{CB:function(){return p},F1:function(){return i},Hr:function(){return l},K0:function(){return c},Mn:function(){return u},eD:function(){return s},h8:function(){return f}});var r=n(4165),a=n(5861),o=n(197),u=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(a,u){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.default)({method:"GET",url:n,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:c=e.sent,a(c),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u(null===e.t0||void 0===e.t0?void 0:e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(a,u){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.default)({method:"POST",url:"/api/fetch-admin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:n});case 3:c=e.sent,a(c),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u(null===e.t0||void 0===e.t0?void 0:e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(a,u){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.default)({method:"POST",url:"/api/insert-company-admin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:n});case 3:c=e.sent,a(c),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u(null===e.t0||void 0===e.t0?void 0:e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(a,u){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.default)({method:"POST",url:"/api/auth/register",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:n});case 3:c=e.sent,a(c),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u(null===e.t0||void 0===e.t0?void 0:e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,u){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(a,c){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.default)({method:"PUT",url:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},data:u});case 3:(i=e.sent)?a(i):c(i),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,u){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(a,c){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.default)({method:"PUT",url:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},data:u});case 3:(i=e.sent)?a(i):c(i),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),f=function(e,t,n){return new Promise(function(){var u=(0,a.Z)((0,r.Z)().mark((function a(u,c){var i;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,o.default)({method:"PUT",url:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},data:n});case 3:i=r.sent,u(i),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),c(null===r.t0||void 0===r.t0?void 0:r.t0.response.data.error);case 10:case"end":return r.stop()}}),a,null,[[0,7]])})));return function(e,t){return u.apply(this,arguments)}}())}},6363:function(){},1977:function(){},1413:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(4942);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);
//# sourceMappingURL=4239.f7a01fb9.chunk.js.map